# 02_04. QDialog

`QDialog`类是对话窗口的基类。

对话窗口是一个**顶层窗口**，主要用于与用户进行**简短交互**，如果设置了父窗口，其显示的位置会在父窗口的**中心**。

## 1. 模态对话框

模态对话框可以在相同的应用程序中**阻止**对其他**可见窗口**的输入。

当应用程序的模态对话框打开时，用户必须完成与对话框的交互，并在访问应用程序的任何其他窗口之前关闭它。

### 1.1  模态对话框的两种方式

- 窗口模态对话框：只能阻止与对话框**关联**（它的父窗口、所有祖父窗口，以及父窗口和父窗口的所有兄弟姐妹）的窗口的访问，允许用户在应用程序中继续使用其他窗口。
- 应用模态对话框：阻止应用程序的**所有窗口**输入。

因此，窗口模态的限制程度低于应用模态。

### 1.2 显示模态对话框

- 调用它的`exec()`函数。当用户关闭对话框时，`exec()`将提供一个有用的返回值。通常，为了使对话框关闭后并返回适当的值，我们可以连接一个默认按钮，例如：`OK`按钮关联到`accept()`槽，`Cancle`按钮关联到`reject()`槽。或者可以调用`done()`槽，返回一个整数值。
- 调用`setModal(true)`或`setWindowModality()`，然后`show()`。与`exec()`不同，`show()`弹出对话框后，不需等待用户输入确认，便立即将控制权返回给调用者。

## 2. 非模态对话框

非模态对话框是**独立**于同一应用程序中的其他窗口运行的对话框。在文字处理器中查找并替换对话框就是典型的非模态对话框。

非模态对话框使用`show()`显示，它**立即将控制权返回给调用者**。

如果在隐藏对话框后再调用`show()`函数，对话框将显示在原来的位置。

## 3. 示例

参考 `projects/02_04_QDialog` 

需要注意的是**新建一个ui**的方法

项目 -> Add Qt Class -> Qt GUI Class(设置好名字) -> Qt GUI Class Wizard

**使用方法** 

1. 点击弹出窗口模态对话框，那么你无法点击它的父窗口，但*可以点击非模态对话框*。
2. 关闭窗口模态对话框，那么其他窗口就都可以点击了。
3. 打开应用模态对话框，那么*所有的其他窗口都无法再点击*。
4. 关闭应用模态对话框，打开自定义对话框，分别点击OK，Cancle和关闭按钮，查看LineEdit的内容。



